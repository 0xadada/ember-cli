'use strict';

var path = require('path');
var fs   = require('fs');

function EmberRandomAddon(project) {
  console.log('created');
  this.project = project;
  this.name = 'Ember Random Addon';
}

function unwatchedTree(dir){
  return {
    read: function() { return dir; },
    cleanup: function() { }
  };
}

EmberRandomAddon.prototype.treeFor = function treeFor(name) {
  var treePath = path.join(__dirname, name);

  if (fs.existsSync(treePath)) {
    return unwatchedTree(treePath);
  }
};

EmberRandomAddon.prototype.included = function included(app) {
  app.import('vendor/ember-random-addon/file-to-import.txt', { destDir: 'assets' });
};

EmberRandomAddon.prototype.blueprintsPath = function() {
  return __dirname + '/blueprints';
}

module.exports = EmberRandomAddon;
